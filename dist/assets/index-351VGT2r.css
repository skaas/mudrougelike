*{margin:0;padding:0;box-sizing:border-box}body{margin:0;padding:0;min-height:100vh;background:#000;color:#fff;font-family:Arial,sans-serif;overflow:hidden}#gameContainer{position:fixed;top:0;left:50%;transform:translate(-50%);width:100%;max-width:500px;height:100vh;padding:10px;display:flex;flex-direction:column;gap:8px;background:#1a1a1a}.character{flex:0 0 auto;background:#0000004d;border-radius:8px;padding:10px;margin-bottom:8px;box-shadow:0 2px 4px #0003;text-align:left;width:100%}.stats-container{margin-bottom:10px;width:100%}.stats-main{margin-bottom:10px}.character-name{font-size:1.2em;font-weight:700;color:#f1c40f;margin-bottom:5px;text-align:left;width:100%;text-shadow:0 0 4px rgba(0,0,0,.5)}.status-text{color:#e74c3c;font-size:.8em;margin-left:8px}.stats-detail{display:flex;gap:15px;flex-wrap:wrap;font-size:.9em;width:100%;justify-content:flex-start}.stat-item{display:flex;align-items:center;gap:5px;background:#0000004d;padding:5px 10px;border-radius:4px;min-width:100px}.stat-icon{font-size:1.2em}.hp-bar{position:relative;width:100%;height:20px;background:#f003;border-radius:5px;overflow:hidden;margin-top:5px;box-shadow:inset 0 2px 4px #0003}.hp-fill{position:absolute;top:0;left:0;height:100%;width:100%;background:#e74c3c;border-radius:4px;transition:width .3s ease;background-image:linear-gradient(45deg,rgba(255,255,255,.2) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 75%,transparent 75%,transparent);background-size:30px 30px;animation:health-bar-stripes 1s linear infinite}.hp-fill.critical{background:#c0392b}.hp-fill.warning{background:#e67e22}.shield-text{position:absolute;right:5px;top:-18px;font-size:.8em;color:#3498db;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.shield-bar{position:absolute;top:0;left:0;height:4px;background:#3498db;border-radius:10px 10px 0 0;transition:width .3s ease;z-index:2}.log-container{display:flex;flex-direction:column-reverse;overflow-y:auto;flex:1;background:#0000004d;border-radius:8px;margin:8px 0;border:1px solid rgba(255,255,255,.1);padding:10px}.log-scroll{flex:1;overflow-y:auto;padding:10px;-webkit-overflow-scrolling:touch;scroll-behavior:smooth}.log-entry{margin:4px 0;padding:8px 12px;display:block;border-radius:4px;line-height:1.4;clear:both}.log-entry.enemy{float:left;text-align:left}.log-entry.player{float:right;text-align:right}.log-entry.narrative,.log-entry.system,.log-entry.status{margin:0 auto;text-align:center;float:none}.status-ui{color:#0f0;font-family:Courier New,monospace}.legendary{color:gold;font-family:Courier New,monospace;text-shadow:0 0 5px #ffd700}.rare{color:silver;font-family:Courier New,monospace;text-shadow:0 0 5px #c0c0c0}.normal{color:#0f0;font-family:Courier New,monospace}.narrative,.narrative-emphasis,.effect,.effect-emphasis{margin-left:auto;margin-right:auto;text-align:center;background:none;display:block;clear:both}.enemy-emphasis{background:#ff4a4a26;font-weight:700}.player-emphasis{background:#4a9eff26;font-weight:700}.narrative-emphasis,.system-emphasis,.effect-emphasis{font-weight:700;font-size:1.1em}.log-entry.attack{color:#f44;border-left:none}.log-entry.defend{color:#44f;border-left:none}.log-entry.multiHit{color:gold;font-weight:700}.log-entry.critical{color:#f4f;border-left:none}.log-entry.enemy{color:#f84;border-left:none}.log-entry.system{color:#3f3;font-family:monospace;border-left:none}.log-entry.emphasis{font-size:1.1em;font-weight:700;padding:6px 8px;margin:6px 0;background:#ffffff1a;text-shadow:0 0 5px currentColor}.log-entry.new-message{animation:newMessage .5s ease-out;opacity:1}#actionButton{height:auto;min-height:50px;border:none;border-radius:8px;background:#2ecc71;color:#fff;font-size:1.1em;font-weight:700;cursor:pointer;margin-top:8px;padding:10px 15px;line-height:1.4}#actionButton:hover{background:#27ae60}#actionButton:disabled{background:#95a5a6;cursor:not-allowed}.reward-container{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#2c3e50;padding:20px;border-radius:8px;max-width:500px;width:90%;z-index:100}.reward-title{text-align:center;font-size:24px;color:#f1c40f;margin-bottom:20px}.reward-options{display:flex;flex-direction:column;gap:10px}.reward-button{padding:15px;background-color:#34495e;border:none;border-radius:8px;color:#fff;cursor:pointer;text-align:left;transition:background-color .3s}.reward-button:hover{background-color:#2980b9}.reward-description{font-size:14px;color:#bdc3c7;margin-top:5px}.overlay{display:none;position:fixed;inset:0;background-color:#000000b3;z-index:99}.stage-info-container{padding:8px;background:#0000004d;border-radius:8px;margin-bottom:8px;text-align:center}.stage-title{font-size:24px;color:gold;margin-bottom:10px}.stage-progress{display:flex;flex-direction:column;align-items:center;gap:5px}.progress-bar{width:100%;height:20px;background:#333;border-radius:10px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(to right,#4a90e2,#357abd);transition:width .3s ease}.progress-text{color:#fff;font-size:14px}.level-exp-container{display:flex;align-items:center;gap:8px;margin-top:5px}#levelText{color:gold;font-weight:700;text-shadow:0 0 5px rgba(255,215,0,.5)}.exp-bar-container{width:100%;height:4px;background:#ffffff1a;border-radius:2px;overflow:hidden;margin-top:2px}.exp-bar{height:100%;width:0%;background:gold;transition:width .5s ease-out;position:relative}.exp-bar.exp-gaining{animation:expGlow 1s ease-out}.exp-bar.level-up{animation:levelUpGlow 2s ease-out}@keyframes expGlow{0%{filter:brightness(1)}50%{filter:brightness(1.5)}to{filter:brightness(1)}}@keyframes levelUpGlow{0%{filter:brightness(1);box-shadow:0 0 5px gold}50%{filter:brightness(2);box-shadow:0 0 20px gold}to{filter:brightness(1);box-shadow:0 0 5px gold}}.battle-effect{position:fixed;inset:0;pointer-events:none;z-index:1000;animation:fadeOut .5s ease-out}.critical-effect{background:radial-gradient(circle,#f003,#f000 70%)}.stun-effect{background:radial-gradient(circle,#ff03,#ff00 70%)}.skill-effect{background:radial-gradient(circle,#0ff3,#0ff0 70%)}.heal-effect{background:radial-gradient(circle,#0f03,#0f00 70%)}.lucky-effect{background:radial-gradient(circle,#ffd70033,#ffd70000 70%);animation:pulseGold 1s ease-out}.level-up-effect{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;color:gold;text-shadow:0 0 10px #ff8800;animation:levelUpAnimation 2s ease-out forwards;z-index:1000}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes pulseGold{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes legendaryPulse{0%{text-shadow:0 0 10px rgba(255,215,0,.5)}50%{text-shadow:0 0 20px rgba(255,215,0,.8)}to{text-shadow:0 0 10px rgba(255,215,0,.5)}}@keyframes levelUpAnimation{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}to{opacity:0;transform:translate(-50%,-50%) scale(1)}}@keyframes health-bar-stripes{0%{background-position:0 0}to{background-position:30px 0}}@media (max-width: 768px){#gameContainer,.character{padding:8px}.stats-container{font-size:.9em}#actionButton{height:45px;font-size:1em}}@media (max-height: 700px){.character{padding:6px}.stats-container{font-size:.85em}#actionButton{height:40px}.log-entry{font-size:.9em;margin:3px 0}}@keyframes pulseButton{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}#actionButton.restart{background:#e74c3c;animation:pulseButton 2s infinite}#actionButton.restart:hover{background:#c0392b}.stat-increase-effect{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;display:flex;align-items:center;gap:10px;z-index:1000}.stat-increase-effect.attack{color:#f44}.stat-increase-effect.defense{color:#44f}.stat-increase-effect.hp{color:#4f4}.stat-increase-effect.luck{color:#ff4}.stat-increase{font-size:36px;font-weight:700;animation:bounce .5s infinite}@keyframes statIncrease{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.level-up-particle{position:absolute;width:8px;height:8px;background:gold;border-radius:50%;animation:particle 1s ease-out forwards}@keyframes particle{0%{transform:translate(0);opacity:1}to{transform:translate(calc(random(100)*1px - 50px),calc(random(100)*1px - 50px));opacity:0}}@keyframes newMessage{0%{transform:translate(-10px);opacity:0}to{transform:translate(0);opacity:1}}.log-scroll::-webkit-scrollbar{width:8px}.log-scroll::-webkit-scrollbar-track{background:#0003;border-radius:4px}.log-scroll::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px}.log-scroll::-webkit-scrollbar-thumb:hover{background:#fff6}.boss-encounter-effect{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;color:red;text-shadow:0 0 10px #ff0000;animation:bossEncounter 2s ease-out;z-index:1000}.boss-encounter{animation:bossBackground 2s ease-out}@keyframes bossEncounter{0%{opacity:0;transform:translate(-50%,-50%) scale(2)}50%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.5)}}@keyframes bossBackground{0%,to{background:#1a1a1a}50%{background:#300}}.log-button-container{text-align:center;margin:10px 0;width:100%}.log-button{display:block;margin:10px auto;padding:10px 25px;background:linear-gradient(to bottom,#3498db,#2980b9);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1.1em;font-weight:700;transition:all .3s ease;width:fit-content;min-width:180px;box-shadow:0 3px 6px #0003;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.log-button:hover{background:linear-gradient(to bottom,#2980b9,#2472a4);transform:translateY(-2px);box-shadow:0 4px 8px #0000004d}.log-button:active{transform:translateY(1px);box-shadow:0 2px 4px #0003}.log-button[data-action=open-reward]{background:linear-gradient(to bottom,#f1c40f,#f39c12)}.log-button[data-action=open-reward]:hover{background:linear-gradient(to bottom,#f39c12,#e67e22)}.log-button[data-action=start-battle]{background:linear-gradient(to bottom,#e74c3c,#c0392b)}.log-button[data-action=start-battle]:hover{background:linear-gradient(to bottom,#c0392b,#a93226)}.player-buffs{display:flex;gap:8px;margin-left:auto}.shield{color:#3498db}.defense-stack{color:#2ecc71}.stat-item.shield,.stat-item.defense-stack{padding:2px 6px;border-radius:4px;background:#ffffff1a}.hp-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5);font-size:.9em}.action-probabilities{font-size:.8em;opacity:.9;display:block;margin-top:4px}.multi-hit-effect{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:48px;color:gold;text-shadow:0 0 10px #ffd700;animation:multiHitEffect .5s ease-out;z-index:1000}@keyframes multiHitEffect{0%{opacity:0;transform:translate(-50%,-50%) scale(.5) rotate(-45deg)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2) rotate(0)}to{opacity:0;transform:translate(-50%,-50%) scale(.8) rotate(45deg)}}.warning{color:#ff9800;font-style:italic;padding-left:20px}.action-effect{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;pointer-events:none}.attack{animation:attackEffect .5s ease-out}.defend{animation:defendEffect .5s ease-out}.skill{animation:skillEffect .5s ease-out}.enemy-attack{animation:enemyAttackEffect .5s ease-out}@keyframes attackEffect{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}to{opacity:0;transform:translate(-50%,-50%) scale(1)}}.status{color:#0f0;font-family:Courier New,monospace}.status-emphasis{color:#0f0;font-family:Courier New,monospace;font-weight:700;text-shadow:0 0 5px #00ff00}.player{color:#4a9eff}.player-emphasis{color:#4a9eff;font-weight:700;text-shadow:0 0 5px #4a9eff}.enemy{color:#ff4a4a}.enemy-emphasis{color:#ff4a4a;font-weight:700;text-shadow:0 0 5px #ff4a4a}.narrative{color:#fff}.narrative-emphasis{color:#fff;font-weight:700;font-size:1.1em;text-shadow:0 0 5px #ffffff}.system{color:#0f0;font-family:Courier New,monospace}.system-emphasis{color:#0f0;font-family:Courier New,monospace;font-weight:700;text-shadow:0 0 5px #00ff00}.effect{color:gold}.effect-emphasis{color:gold;font-weight:700;text-shadow:0 0 5px #ffd700}.character-stats{width:100%;text-align:left;margin:0;padding:10px}.status{margin-right:auto;margin-left:0;text-align:left;background:none;color:#0f0;font-family:Courier New,monospace;max-width:100%;border:none;border-left:none}.status,.status-emphasis{color:#0f0;font-family:Courier New,monospace;margin-right:auto;margin-left:0;text-align:left;background:none;max-width:100%}.log-entry.attack,.log-entry.defend,.log-entry.system,.log-entry.enemy{border-left:none}@keyframes terminalBlink{0%,to{border-right-color:transparent}50%{border-right-color:#0f0}}.status.initializing{position:relative;display:inline-block;overflow:hidden;white-space:pre;border-right:2px solid #00ff00;width:0;transition:width 2s steps(40,end)}.character-stats.initializing:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:#00ff0080;animation:scanline 2s linear infinite;z-index:1}@keyframes scanline{0%{transform:translateY(0)}to{transform:translateY(100%)}}.character-stats.initializing{position:relative;background:#000000e6;box-shadow:0 0 15px #00ff0080;overflow:hidden}.character-stats.initializing:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,rgba(0,0,0,.15),rgba(0,0,0,.15) 1px,transparent 1px,transparent 2px);pointer-events:none}.character-stats.terminal:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:#00ff0080;animation:scanline 2s linear infinite;z-index:1}.character-stats .status{color:#0f0;font-family:Courier New,monospace;margin:4px 0;position:relative;display:inline-block;overflow:hidden;white-space:pre;border-right:2px solid #00ff00;width:0;transition:width 1s steps(40,end)}.character-stats .status:last-child{border-right:2px solid #00ff00;animation:terminalBlink .75s step-end infinite}.hp-container{position:relative;width:100%;height:20px;background:#00000080;border-radius:4px;margin-bottom:10px}.hp-text{position:absolute;width:100%;text-align:center;color:#fff;font-size:.9em;line-height:20px;text-shadow:0 0 2px rgba(0,0,0,.8)}@keyframes blink-cursor{0%,to{border-right-color:#33ff33b3}50%{border-right-color:transparent}}.character-stats.terminal{background-color:#030;color:#3f3;font-family:Courier New,monospace;padding:10px;border-radius:5px;height:150px;overflow-y:auto;white-space:pre-wrap;line-height:1.4;border:1px solid #00ff00;position:relative}.typing-effect{border-right:2px solid rgba(51,255,51,.7);animation:blink-cursor .7s infinite;display:inline-block}#root{min-height:100vh}.info-container{display:flex;flex-direction:column;gap:12px}.stage-info-container .progress-text{display:flex;justify-content:space-between;align-items:center;font-size:.95em}.stage-info-container .progress-text span{margin-left:8px;color:#ecf0f1}.log-entry.error{color:#ff6b6b!important}.log-entry.system.error{color:#ff6b6b}.reward-placeholder{padding:12px;text-align:center;color:#bdc3c7}.reward-button{display:flex;flex-direction:column;align-items:flex-start;gap:6px}.reward-button .reward-title{font-size:1.1em;font-weight:700}.reward-button .reward-description{line-height:1.4}@keyframes enemyAttackFlash{0%{transform:translate(0);box-shadow:0 0 #ff3c3c00}20%{transform:translate(-4px);box-shadow:0 0 12px #ff3c3c80}40%{transform:translate(4px);box-shadow:0 0 16px #ff3c3c99}60%{transform:translate(-2px);box-shadow:0 0 10px #ff3c3c66}80%{transform:translate(2px);box-shadow:0 0 6px #ff3c3c33}to{transform:translate(0);box-shadow:0 0 #ff3c3c00}}.log-entry.enemy{position:relative;background:#ff444414;border-left:3px solid rgba(255,82,82,.5)}.log-entry.enemy.attack-highlight{animation:enemyAttackFlash .3s ease-out;font-weight:600;color:#f77}.log-entry.enemy.attack-highlight strong{color:#ff4545}@keyframes playerHurtShake{0%{transform:translate(0)}20%{transform:translate(-4px)}40%{transform:translate(4px)}60%{transform:translate(-2px)}80%{transform:translate(2px)}to{transform:translate(0)}}@keyframes playerHurtGlow{0%{box-shadow:0 0 #ff5a5a00}50%{box-shadow:0 0 18px #ff4646a6}to{box-shadow:0 0 #ff5a5a00}}.character.player.hurt{animation:playerHurtShake .32s ease-out}.character.player.hurt .hp-bar{animation:playerHurtGlow .32s ease-out}.character.player.hurt .hp-fill.player{transition:width .3s ease-out,background-color .3s ease-out;background:linear-gradient(to right,#ff4e4e,#ff1f1f)}
